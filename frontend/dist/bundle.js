(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n(a.key),a)}}function i(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,"string");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(r)?r:String(r)}var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"newGame",void 0),i(this,"scores",void 0),i(this,"hit",void 0),i(this,"stay",void 0),i(this,"go",void 0),i(this,"playerWin",void 0),i(this,"dealerScore",void 0),i(this,"playerScoreName",void 0),i(this,"playerScore",void 0),i(this,"playerName",void 0),i(this,"dealerHand",void 0),i(this,"playerHand",void 0),i(this,"burstedWin",void 0),i(this,"restart",void 0),i(this,"quit",void 0),i(this,"hiddenCard",void 0),i(this,"cards",[]),i(this,"dealerCards",[]),i(this,"playerCards",[])}var r,n;return r=e,n=[{key:"init",value:function(){this.bindToDom(),this.addEventListeners(),this.setCards()}},{key:"bindToDom",value:function(){var e=this;setTimeout((function(){e.go=document.querySelector("#YpBnSLSIIrq"),e.newGame=document.querySelector("#RAHyqtNqRd"),e.scores=document.querySelector("#mSCPZQmjHoAx"),e.hit=document.querySelector("#OQXrkcqKiIEQ"),e.stay=document.querySelector("#zKhgMWkBk"),e.playerWin=document.querySelector("#oqrhLoDtO"),e.dealerScore=document.querySelector("#HTCpTWJAh"),e.playerScoreName=document.querySelector("#bnSddBbUiNfi"),e.playerScore=document.querySelector("#YhhKVfVNsDv"),e.playerName=document.querySelector("#vCzoHPwfX"),e.dealerHand=document.querySelector("#wwZlsPUv"),e.playerHand=document.querySelector("#VJINJzAVKKy"),e.burstedWin=document.querySelector("#wt4pccnsvg56"),e.restart=document.querySelector("#nu2t2ks82m6j"),e.quit=document.querySelector("#vh4mow0wza7g")}),300)}},{key:"addEventListeners",value:function(){var e=this;setTimeout((function(){e.newGame.addEventListener("click",(function(){e.showPlayerWin()})),e.hit.addEventListener("click",(function(){})),e.stay.addEventListener("click",(function(){e.playerStay()})),e.go.addEventListener("click",(function(){e.startNewGame()})),e.restart.addEventListener("click",(function(){e.startNewGame(),e.hideBurstedWin()})),e.quit.addEventListener("click",(function(){e.resetScore(),e.clearDealerHand(),e.showDealerFirstHand(2),e.deactivateButtons(),e.hideBurstedWin()}))}),400)}},{key:"getCardNumber",value:function(e){return e?Math.abs(e.toString().split(".")[1]):0}},{key:"setCards",value:function(){for(var e=1;e<=4;e++)for(var t=1;t<=52;t++)this.cards.push(parseFloat(e+"."+t))}},{key:"getHand",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=[],r=Math.min(e,this.cards.length),a=0;a<r;a++){var i=Math.floor(Math.random()*this.cards.length);t.push(this.cards[i]),this.cards.splice(i,1)}return t}},{key:"createCard",value:function(e){var t=document.createElement("img");t.className="playingcards",t.alt="playing cards";var r=this.getCardNumber(e);return t.src="cards/".concat(r,".png"),t}},{key:"showDealerFirstHand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this.getHand(e);this.dealerCards=[].concat(t(this.dealerCards),t(r));for(var a=0;a<r.length;a++)0===a?(this.hiddenCard=r[a],this.dealerHand.appendChild(this.createCard(0))):this.dealerHand.appendChild(this.createCard(r[a]))}},{key:"showDealerHand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this.getHand(e);this.dealerCards=[].concat(t(this.dealerCards),t(r));for(var a=0;a<r.length;a++)this.dealerHand.appendChild(this.createCard(r[a]))}},{key:"showPlayerWin",value:function(){document.body.classList.add("overlay-active"),this.playerWin.style.display="block",this.playerName.setSelectionRange(this.playerName.value.length,this.playerName.value.length),this.playerName.focus()}},{key:"hidePlayerWin",value:function(){document.body.classList.remove("overlay-active"),this.playerWin.style.display="none"}},{key:"showBurstedWin",value:function(){document.body.classList.add("overlay-active"),this.burstedWin.style.display="block"}},{key:"hideBurstedWin",value:function(){document.body.classList.remove("overlay-active"),this.burstedWin.style.display="none"}},{key:"clearDealerHand",value:function(){for(;this.dealerHand.firstChild;)this.dealerHand.removeChild(this.dealerHand.firstChild)}},{key:"isBursted",value:function(){return this.dealerHand.childElementCount>=6}},{key:"showHiddenCard",value:function(){var e=this.createCard(this.dealerCards[0]);this.dealerHand.replaceChild(e,this.dealerHand.firstChild)}},{key:"playerStay",value:function(){if(this.showHiddenCard(),this.showDealerHand(),this.updateDealerScore(!0),this.dealerWinner(),this.isBursted())return this.showBurstedWin(),!1}},{key:"dealerWinner",value:function(){var e=this.calcDealerScore(!1);console.log(e)}},{key:"calcDealerScore",value:function(e){var t=0;if(this.dealerCards.length>0)for(var r=0;r<this.dealerCards.length;r++)if(0!==r||!e){var a=this.getCardNumber(this.dealerCards[r]);a>48?t+=11:a>32?t+=10:a>28&&a<33?t+=9:a>24&&a<29?t+=8:a>20&&a<25?t+=7:a>16&&a<21?t+=6:a>12&&a<17?t+=5:a>8&&a<13?t+=4:a>4&&a<9?t+=3:a>0&&a<5&&(t+=2)}return t}},{key:"activateButtons",value:function(){this.hit.disabled=!1,this.stay.disabled=!1,this.hit.className="but-action-on",this.stay.className="but-action-on"}},{key:"deactivateButtons",value:function(){this.hit.disabled=!0,this.stay.disabled=!0,this.hit.className="but-action-off",this.stay.className="but-action-off"}},{key:"startNewGame",value:function(){this.resetScore(),this.hidePlayerWin(),this.activateButtons(),this.clearDealerHand(),this.showDealerFirstHand(2),this.updateDealerScore(!0)}},{key:"resetDealerCards",value:function(){this.dealerCards=[]}},{key:"resertPlayerCards",value:function(){this.playerCards=[]}},{key:"updateDealerScore",value:function(e){this.dealerScore.innerHTML="Dealer Score: ".concat(this.calcDealerScore(e))}},{key:"resetScore",value:function(){this.resetDealerCards(),this.dealerScore.innerHTML="Dealer Score: ".concat(this.calcDealerScore(!0)),this.playerScoreName.innerHTML="Player Name: ".concat(this.playerName.value),this.playerScore.innerHTML="Player Score: 0"}}],n&&a(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}());o.init(),window.runner=o})();